<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
          
      xmlns:p="http://primefaces.org/ui">

              <ui:composition template="/template.xhtml">
                  <ui:define name="body">
                  <h:form>
                      
                    <p:panel>
                     <h:panelGrid columns="2" cellspacing="5" >
                    <p:outputLabel value="Ciu:" for="ciu"/>
                    <p:outputLabel id="ciu" value="#{login.cliente.ciu}" />
                    <h:inputHidden id="ciuHidden" value="#{login.cliente.ciu}" binding="#{order.ciuH}"/>
                    <p:outputLabel value="Nombres:" for="nombres" />
                    <p:outputLabel id="nombres" value="#{login.cliente.nombres}"/>
                    <p:outputLabel value="Direccion:" for="direccion" />
                    <p:outputLabel id="direccion" value="#{login.cliente.direccion}" />
                  
                </h:panelGrid>
                   </p:panel>
                      
                     
                <p:fieldset style="margin-bottom:10px;">
                    <table>
                        
                        
                        
                        <td>
                <h:panelGrid columns="2" cellpadding="5">
                    
                     <p:outputLabel value="Item:"/>
                     <p:selectOneMenu id="IdItem" value="#{order.seleccionadoItem}" style="width:290px" panelStyle="width:180px" filter="true">
                         <f:selectItem itemLabel="Seleccionar item"/>
                        <f:selectItems value="#{order.items}"/>
                    </p:selectOneMenu>
                     
                     
                         <p:outputLabel value="Cantidad:"/>
                          <p:spinner value="#{order.cantidad}" min="1" max="100" size="3"/>
                          <p:commandButton id="btnIngresar" icon="ui-icon-cart" actionListener="#{order.addAction}" ajax="false"/> 
                       
                </h:panelGrid>
                    <p:dataTable id="listadetalles" value="#{order.orderList}" var="o" style="margin-bottom:40%;width:60%" >
                                <p:column sortBy="#{o.descripcion}">
                                    <f:facet name="header">
                                        <h:outputText value="DescripciÃ³n" />
                                    </f:facet>
                                    <h:outputText value="#{o.descripcion}"/>
                                </p:column>
                                <p:column sortBy="#{o.cantidad}">
                                    <f:facet name="header">
                                        <h:outputText value="Cantidad"/>
                                    </f:facet>
                                    <h:outputText value="#{o.cantidad}"/>
                                </p:column>
                                <p:column>
                                    <f:facet name="header">
                                        <h:outputText value="Precio Unitario"/>
                                    </f:facet>
                                    <h:outputText value="#{o.total}"/>
                                </p:column>
                                <p:column>
                                    <f:facet name="header">
                                        <h:outputText value="Iva"/>
                                    </f:facet>
                                    <h:outputText value="#{o.piva}"/>
                                </p:column>
                               <p:column style="width:32px;text-align: center">
                               <f:facet name="header">Action</f:facet>
                               <p:commandButton icon="ui-icon-trash" action="#{order.deleteAction(o)}" ajax="false"/>   				
                                </p:column>
                          
                        <f:facet name="footer">
        El valor total de la proforma es: #{order.totalp} de la proforma.
    </f:facet>
                            </p:dataTable>  
                            
                            
                           <h:panelGrid columns="2" cellpadding="4">
        
        <h:outputLabel for="Provincia" value="Provincia:" style="font-weight:bold" />
        <p:selectOneMenu     id="Provincia" />
        <h:outputLabel for="Canton" value="Canton:" style="font-weight:bold" />
        <p:inputText id="Canton" />
        <h:outputLabel for="Parroquia" value="Parroquia:" style="font-weight:bold" />
        <p:inputText id="Parroquia" />
        <h:outputLabel for="Celular" value="Celular:" style="font-weight:bold" />
        <p:inputText id="Celular" />
        <h:outputLabel for="Referencia" value="Referencia:" style="font-weight:bold" />
        <p:inputText id="Referencia" />
        <p:commandButton value="Aceptar" update="display" icon="ui-icon-check" />
        <h:outputText id="display" />
        
    </h:panelGrid>                       
                            
                            
                            
                            
                            
                            
                            </td>
                        <td style="left:inherit">
                            <p:commandButton value="Generar Proforma" style=" position: absolute; 
                                             bottom: 75%; right: 50%" actionListener="#{order.addProforma}" ajax="false" />
                            </td>
                         </table>
                    <h:panelGrid columns="2" cellpadding="5">
                       
                    </h:panelGrid>
                    </p:fieldset> 
                      
                      
                      
                      
                      
                  </h:form>
                      </ui:define>
   	</ui:composition>
</html>